(function(t){function e(e){for(var o,i,n=e[0],c=e[1],l=e[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},r={app:0},s=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"07e6":function(t,e,a){t.exports=a.p+"img/info.631aebe9.svg"},"2c8b":function(t,e,a){function o(t){var e=new Date(t),a=e.toString().split(" G")[0];return a}a("d3b7"),a("ac1f"),a("25f0"),a("1276"),t.exports=o},"317e":function(t,e,a){t.exports=a.p+"img/Shoppal.bb3782d2.svg"},3410:function(t,e,a){t.exports=a.p+"img/store.7ddc49a9.svg"},3933:function(t,e,a){t.exports=a.p+"img/PostgresSQL.95ea0ccc.svg"},"537a":function(t,e,a){t.exports=a.p+"img/barcode1.4e91a8d1.svg"},"56d4":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=(a("034f"),a("2877")),n={},c=Object(i["a"])(n,r,s,!1,null,null,null),l=c.exports,d=(a("b0c0"),a("8c4f")),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.error?o("div",{staticClass:"error-container"},[o("ErrorMessage",{ref:"error",attrs:{message:t.message}})],1):t._e(),o("div",{staticClass:"container login-page"},[o("div",{staticClass:"container shadow login-form-background"},[o("img",{staticClass:"barcode1-img",attrs:{src:a("537a"),width:""}}),o("img",{staticClass:"barcode2-img",attrs:{src:a("e11d"),width:""}}),o("img",{staticClass:"checklist-img",attrs:{src:a("e88b"),width:""}}),o("img",{staticClass:"box2-img",attrs:{src:a("d4f2"),width:""}}),o("div",{staticClass:"container login-form-container"},[o("div",{staticClass:"card shadow login-form-card"},[o("div",{staticClass:"form-content"},[t._m(0),o("p",{staticStyle:{"font-weight":"bold","margin-bottom":"1rem"}},[t._v("Client Management System")]),o("b-form",{on:{submit:t.onSubmit}},[o("b-form-group",{attrs:{id:"input-group-1",label:"Email","label-for":"input-1",description:"We'll never share your email with anyone else."}},[o("b-form-input",{attrs:{id:"input-1",type:"email",required:"",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),o("b-form-group",{attrs:{id:"input-group-2",label:"Password","label-for":"input-2"}},[o("b-form-input",{attrs:{id:"input-2",type:"password",required:"",placeholder:"Enter password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Log In")])],1)],1)])])])]),t.showInfo?o("Info",{on:{closeShowInfo:function(e){t.showInfo=!1}}}):t._e()],1)},m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-image-container"},[o("img",{staticClass:"cms-logo-login",attrs:{src:a("317e"),alt:"shoppal",width:"200"}})])}],p=a("1157"),f=a.n(p),g=a("bc3a"),b=a.n(g),v=b.a.create({baseURL:"https://shoppal-server-rdport.onrender.com",withCredentials:!0,headers:{access_token:localStorage.getItem("access_token")}}),h=v,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-danger error error",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")])},y=[],_={name:"ErrorMessage",props:["message"]},k=_,P=Object(i["a"])(k,C,y,!1,null,null,null),x=P.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"info-modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"info-modal-content modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",staticStyle:{"font-weight":"bold"},attrs:{id:"exampleModalLongTitle"}},[t._v("Welcome to Shoppal CMS!")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.$emit("closeShowInfo")}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._m(0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.$emit("closeShowInfo")}}},[t._v("Close")])])])])])])},S=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"info-modal-text-container"},[o("h1",{staticClass:"text-center mb-3"},[t._v("Tech Stack")]),o("div",{staticClass:"card-deck row",attrs:{id:"tech-stack-deck"}},[o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("5fb7"),alt:"HTML5"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("HTML5")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("8a41"),alt:"CSS3"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("CSS3")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("62a1"),alt:"BootstrapVue"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("BootstrapVue")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("9856"),alt:"Vue.js"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("Vue.js")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("88e3"),alt:"Express"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("Express")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("8dee"),alt:"Sequelize"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("Sequelize")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("59b0"),alt:"Node.js"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("Node.js")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("3933"),alt:"PostgresSQL"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("PostgresSQL")])])])]),o("div",{staticClass:"col-4"},[o("div",{staticClass:"card"},[o("img",{staticClass:"card-img-top",attrs:{src:a("e084"),alt:"JavaScript"}}),o("div",{staticClass:"card-body"},[o("h5",{staticClass:"card-title text-center"},[t._v("JavaScript")])])])])]),o("div",{staticClass:"description"},[o("p",[t._v(" A web application for managing an online store which is on a separate website, "),o("a",{attrs:{href:"https://shoppal-client-rdport.onrender.com"}},[t._v("Shoppal")]),t._v(". ")]),o("h2",[t._v("Features")]),o("ul",[o("li",[t._v('Only users with the role of "admin" can sign in')]),o("li",[t._v("Create, edit, delete, sort and filter categories and products")]),o("li",[t._v("Responsive design enables this website to adapt to the size of the screen")])]),o("h2",[t._v("P.S.")]),o("ul",[o("li",[t._v("For testing, use the following data which have been added to the database"),o("br"),o("br"),o("p",{staticClass:"mb-0",staticStyle:{"font-weight":"bold"}},[t._v("John Doe")]),t._v(" email: johndoe@mail.com"),o("br"),t._v(" password: 123456"),o("br"),t._v(" role: admin"),o("br"),o("br"),o("p",{staticClass:"mb-0",staticStyle:{"font-weight":"bold"}},[t._v("Jane Doe")]),t._v(" email: janedoe@mail.com"),o("br"),t._v(" password: 123456"),o("br"),t._v(" role: customer ")]),o("br"),o("li",[t._v("Simple authentication is used for the purpose of prototyping, where the access token and full name are stored in the local storage.")]),o("li",[t._v('Please check out the "Fancytodo" project which has implemented more advanced authentication with secure access token, csrf token and refresh token.')]),o("li",[o("a",{attrs:{href:"https://github.com/rdport/fancytodo-client"}},[t._v("Fancytodo-client on github")]),t._v(", "),o("a",{attrs:{href:"https://github.com/rdport/fancytodo-server"}},[t._v("Fancytodo-server on github")]),t._v(", "),o("a",{attrs:{href:"https://fancytodo-client.onrender.com"}},[t._v("Fancytodo website")])]),o("li",[t._v("The frontend, backend and database of this project are using free tier hosting services so this website might not be always accessible.")])])])])}],$={name:"Info",data:function(){return{techs:["HTML5","CSS3","BootstrapVue","Vue.js","Express","Sequelize","Node.js","PostgresSQL","JavaScript"]}}},D=$,I=Object(i["a"])(D,w,S,!1,null,null,null),E=I.exports,F={name:"Login",data:function(){return{form:{email:"",password:""},error:!1,message:"",showInfo:!0}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),h.post("/admin/login",this.form).then((function(t){var a=t.data;localStorage.setItem("access_token",a.access_token),localStorage.setItem("fullName",a.fullName),e.$router.push("/")})).catch((function(t){e.message=t.response.data.message,e.error=!0,e.$nextTick((function(){e.$refs.error.$el.scrollIntoView()}))}))}},watch:{showInfo:function(){var t=this;this.$nextTick().then((function(){t.showInfo?f()("#info-modal").modal("show"):t.showInfo||(f()("#info-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))}},components:{ErrorMessage:x,Info:E},mounted:function(){localStorage.getItem("access_token")||f()("#info-modal").modal("show")}},O=F,M=Object(i["a"])(O,u,m,!1,null,null,null),A=M.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-page"},[a("NavBar",{on:{showInfo:function(e){t.showInfo=!0}}}),a("router-view"),a("Footer"),t.showInfo?a("Info",{on:{closeShowInfo:function(e){t.showInfo=!1}}}):t._e()],1)},L=[],B=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light"}},[o("b-navbar-brand",{staticStyle:{"font-weight":"bold"},attrs:{to:{name:"Home"}}},[o("img",{staticStyle:{position:"relative",top:"-0.2rem"},attrs:{src:a("7c69"),width:"30",height:"30",alt:"shopping bag"}}),t._v(" Shoppal CMS ")]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",[o("b-nav-item",{attrs:{to:{name:"Categories"}}},[o("img",{staticStyle:{position:"relative",top:"-0.2rem"},attrs:{src:a("7fad"),width:"30",height:"30",alt:"list icon"}}),t._v("Categories")]),o("b-nav-item",{on:{click:function(e){return t.$emit("showInfo")}}},[o("img",{staticClass:"mr-1",staticStyle:{position:"relative",top:"-0.2rem"},attrs:{src:a("07e6"),width:"30",height:"30",alt:"info icon"}}),t._v("Info")])],1),o("b-navbar-nav",{staticClass:"ml-auto"},[o("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("em",[t._v(t._s(t.fullName))])]},proxy:!0}])},[o("b-dropdown-item",{on:{click:t.logout}},[t._v("Log Out")])],1)],1)],1)],1)],1)},N=[],z={name:"NavBar",data:function(){return{fullName:localStorage.getItem("fullName")}},methods:{logout:function(){localStorage.clear(),this.$router.push("/login")}}},T=z,H=Object(i["a"])(T,B,N,!1,null,null,null),V=H.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer bg-light"},[a("div",[t._v("©rdport")])])}],R={name:"Footer"},U=R,Q=Object(i["a"])(U,q,J,!1,null,null,null),W=Q.exports,G={name:"MainPage",data:function(){return{showInfo:!1}},watch:{showInfo:function(){var t=this;this.$nextTick().then((function(){t.showInfo?f()("#info-modal").modal("show"):t.showInfo||(f()("#info-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))}},components:{NavBar:V,Footer:W,Info:E}},K=G,X=Object(i["a"])(K,j,L,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container home"},[o("b-card",{staticStyle:{width:"15rem","max-height":"35rem"},attrs:{"img-src":a("3410"),"img-alt":"store","img-top":"",tag:"article"}},[o("router-link",{attrs:{to:{name:"Categories"}}},[o("b-button",{attrs:{variant:"success"}},[t._v("Product Categories")])],1)],1)],1)},tt=[],et={name:"Home"},at=et,ot=Object(i["a"])(at,Z,tt,!1,null,null,null),rt=ot.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-2"},[a("div",[a("h2",[t._v("Categories")]),a("b-button",{staticClass:"text-center mb-4",attrs:{variant:"primary"},on:{click:t.showAddCategoryForm}},[t._v("Add Category")])],1),a("div",{staticClass:"container border",staticStyle:{padding:"2rem 0rem"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.sortOptions},scopedSlots:t._u([{key:"first",fn:function(){return[a("option",{attrs:{value:""}},[t._v("-- none --")])]},proxy:!0}]),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),a("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.sortBy},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[a("option",{domProps:{value:!1}},[t._v("Asc")]),a("option",{domProps:{value:!0}},[t._v("Desc")])])],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Initial sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"initialSortSelect"}},[a("b-form-select",{attrs:{id:"initialSortSelect",size:"sm",options:["asc","desc","last"]},model:{value:t.sortDirection,callback:function(e){t.sortDirection=e},expression:"sortDirection"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter On","label-cols-sm":"3","label-align-sm":"right","label-size":"sm",description:"Leave all unchecked to filter on all data"}},[a("b-form-checkbox-group",{staticClass:"mt-1",model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"name"}},[t._v("Category")]),a("b-form-checkbox",{attrs:{value:"createdAt"}},[t._v("Created")]),a("b-form-checkbox",{attrs:{value:"updatedAt"}},[t._v("Updated")])],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1),a("b-table",{attrs:{"show-empty":"",small:"",stacked:"md",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1 btn btn-success",attrs:{size:"sm"},on:{click:function(a){return t.seeProducts(e.item.id,e.item.name)}}},[t._v(" See Products ")]),a("b-button",{staticClass:"mr-1 btn btn-warning",attrs:{size:"sm"},on:{click:function(a){return t.info(e.item,e.index)}}},[t._v(" Edit ")]),a("b-button",{staticClass:"btn btn-danger",attrs:{size:"sm"},on:{click:function(a){return t.showDeleteCategoryConfirmation(e.item.id)}}},[t._v(" Delete ")])]}}])})],1)],1),t.addCategoryForm?a("AddCategoryForm",{on:{"close-add-category-form":function(e){t.addCategoryForm=!1}}}):t._e(),t.editCategoryForm?a("EditCategoryForm",{attrs:{categoryEditData:t.categoryEditData},on:{"close-edit-category-form":function(e){t.editCategoryForm=!1}}}):t._e(),a("DeleteCategoryConfirmation",{attrs:{CategoryId:t.CategoryId},on:{"close-delete-category-confirmation":function(e){t.deleteCategoryConfirmation=!1}}})],1)},it=[],nt=(a("4de4"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"edit-category-modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[t.error?a("div",t._l(t.messages,(function(t,e){return a("ErrorMessage",{key:e,ref:"error",refInFor:!0,attrs:{message:t}})})),1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content",staticStyle:{"background-color":"transparent",border:"none"}},[a("div",{staticClass:"add-edit-category-form-content"},[t._m(0),a("form",{staticClass:"add-edit-category-form"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.name,expression:"category.name"}],staticClass:"form-control add-edit-category-name",attrs:{type:"text",name:"name"},domProps:{value:t.category.name},on:{input:function(e){e.target.composing||t.$set(t.category,"name",e.target.value)}}})]),a("div",{staticClass:"category-form-btn-container"},[a("button",{staticClass:"btn mt-4 add-edit-category-btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.editCategory(e)}}},[t._v("Edit")]),a("button",{staticClass:"btn mt-2 category-cancel-btn",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-edit-category-form")}}},[t._v("Cancel")])])])])])])])])}),ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-edit-category-form-title"},[a("h1",[t._v("Edit Category")])])}],lt={name:"EditCategoryForm",props:["categoryEditData"],data:function(){return{error:!1,messages:[]}},methods:{editCategory:function(){var t=this,e=this.category;this.$store.dispatch("editCategory",e).then((function(e){e.data;t.$store.dispatch("fetchCategories"),t.$emit("close-edit-category-form")})).catch((function(e){console.log(e),t.messages=e.response.data.messages,t.error=!0}))}},computed:{category:function(){var t={name:this.categoryEditData.name,CategoryId:this.categoryEditData.CategoryId};return t}},components:{ErrorMessage:x}},dt=lt,ut=Object(i["a"])(dt,nt,ct,!1,null,null,null),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"add-category-modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[t.error?a("div",t._l(t.messages,(function(t,e){return a("ErrorMessage",{key:e,ref:"error",refInFor:!0,attrs:{message:t}})})),1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"cat-pro-modal-content modal-content",staticStyle:{"background-color":"transparent",border:"none"}},[a("div",{staticClass:"add-edit-category-form-content"},[t._m(0),a("form",{staticClass:"add-edit-category-form"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.name,expression:"category.name"}],staticClass:"form-control",attrs:{type:"text",id:"add-edit-category-name",name:"name"},domProps:{value:t.category.name},on:{input:function(e){e.target.composing||t.$set(t.category,"name",e.target.value)}}})]),a("div",{staticClass:"category-form-btn-container"},[a("button",{staticClass:"btn btn-primary mt-4 add-edit-category-btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addCategory(e)}}},[t._v("Add")]),a("button",{staticClass:"btn btn-info mt-2 category-cancel-btn",attrs:{"data-dismiss":"modal",type:"button"},on:{click:function(e){return t.$emit("close-add-category-form")}}},[t._v("Cancel")])])])])])])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-edit-category-form-title"},[a("h1",[t._v("Add Category")])])}],gt=(a("d3b7"),{name:"AddCategoryForm",data:function(){return{category:{name:""},error:!1,messages:[]}},methods:{addCategory:function(){var t=this,e=this.category;this.$store.dispatch("addCategory",e).then((function(e){e.data;t.$emit("close-add-category-form"),t.$store.dispatch("fetchCategories")})).catch((function(e){console.log(e),t.messages=e.response.data.messages,t.error=!0})).finally((function(){t.category.name=""}))}},components:{ErrorMessage:x}}),bt=gt,vt=Object(i["a"])(bt,pt,ft,!1,null,null,null),ht=vt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"delete-category-confirm","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[t.error?a("div",[a("ErrorMessage",{ref:"error",attrs:{message:t.message}})],1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Delete Confirmation")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"},on:{click:t.closeDeleteCategoryConfirmation}},[t._v("×")])])]),t._m(0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeDeleteCategoryConfirmation}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",id:"delete-confirm-btn"},on:{click:t.deleteCategory}},[t._v("Delete")])])])])])])},yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("p",[t._v("Are you sure you want to delete this category?")]),a("p",[t._v("All products in this category will also be deleted.")])])}],_t={name:"DeleteCategoryConfirmation",props:["CategoryId"],data:function(){return{error:!1,message:""}},methods:{deleteCategory:function(){var t=this,e=this.CategoryId;this.$store.dispatch("deleteCategory",e).then((function(e){e.data;return t.$emit("close-delete-category-confirmation"),t.$store.dispatch("fetchCategories")})).catch((function(e){console.log(e),t.message=e.response.data.message,t.error=!0}))},closeDeleteCategoryConfirmation:function(){this.$emit("close-delete-category-confirmation"),this.error=!1}},components:{ErrorMessage:x}},kt=_t,Pt=Object(i["a"])(kt,Ct,yt,!1,null,null,null),xt=Pt.exports,wt={name:"Categories",data:function(){return{fields:["#",{key:"name",label:"Category",sortable:!0,sortDirection:"asc"},{key:"createdAt",label:"Created",sortable:!0,sortDirection:"desc"},{key:"updatedAt",label:"Updated",sortable:!0,sortDirection:"desc"},{key:"actions",label:"Actions"}],currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],categoryEditData:{CategoryId:0,name:""},CategoryId:0,addCategoryForm:!1,editCategoryForm:!1,deleteCategoryConfirmation:!1}},computed:{items:function(){return this.$store.state.categories},totalRows:{get:function(){return this.$store.state.categoriesLength},set:function(t){this.$store.commit("setCategoriesLength",t)}},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{seeProducts:function(t,e){this.$router.push({name:"Products",params:{CategoryId:t},query:{category:e}})},info:function(t,e){this.categoryEditData.name=t.name,this.categoryEditData.CategoryId=t.id,this.editCategoryForm=!0},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},showAddCategoryForm:function(){this.addCategoryForm=!0},showDeleteCategoryConfirmation:function(t){this.CategoryId=t,this.deleteCategoryConfirmation=!0}},watch:{editCategoryForm:function(){var t=this;this.$nextTick().then((function(){t.editCategoryForm?f()("#edit-category-modal").modal("show"):t.editCategoryForm||(f()("#edit-category-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))},addCategoryForm:function(){var t=this;this.$nextTick().then((function(){t.addCategoryForm?f()("#add-category-modal").modal("show"):t.addCategoryForm||(f()("#add-category-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))},deleteCategoryConfirmation:function(){var t=this;this.$nextTick().then((function(){t.deleteCategoryConfirmation?f()("#delete-category-confirm").modal("show"):t.deleteCategoryConfirmation||(f()("#delete-category-confirm").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))}},created:function(){this.$store.dispatch("fetchCategories")},components:{EditCategoryForm:mt,AddCategoryForm:ht,DeleteCategoryConfirmation:xt}},St=wt,$t=Object(i["a"])(St,st,it,!1,null,null,null),Dt=$t.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-2"},[a("div",[a("h1",[t._v("Products in "+t._s(t.categoryName)+" category")]),a("b-button",{staticClass:"text-center mb-4",attrs:{variant:"primary"},on:{click:t.showAddProductForm}},[t._v("Add Product")])],1),a("div",{staticClass:"container border",staticStyle:{padding:"2rem 0rem"}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.sortOptions},scopedSlots:t._u([{key:"first",fn:function(){return[a("option",{attrs:{value:""}},[t._v("-- none --")])]},proxy:!0}]),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),a("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.sortBy},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[a("option",{domProps:{value:!1}},[t._v("Asc")]),a("option",{domProps:{value:!0}},[t._v("Desc")])])],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Initial sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"initialSortSelect"}},[a("b-form-select",{attrs:{id:"initialSortSelect",size:"sm",options:["asc","desc","last"]},model:{value:t.sortDirection,callback:function(e){t.sortDirection=e},expression:"sortDirection"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[a("b-input-group",{attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter On","label-cols-sm":"3","label-align-sm":"right","label-size":"sm",description:"Leave all unchecked to filter on all data"}},[a("b-form-checkbox-group",{staticClass:"mt-1",model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[a("b-form-checkbox",{attrs:{value:"name"}},[t._v("Name")]),a("b-form-checkbox",{attrs:{value:"price"}},[t._v("Price")]),a("b-form-checkbox",{attrs:{value:"stock"}},[t._v("Stock")]),a("b-form-checkbox",{attrs:{value:"createdAt"}},[t._v("Created")]),a("b-form-checkbox",{attrs:{value:"updatedAt"}},[t._v("Updated")])],1)],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1),a("b-table",{attrs:{"show-empty":"",small:"",stacked:"md",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(#)",fn:function(e){return[t._v(" "+t._s(e.index+1)+" ")]}},{key:"cell(price)",fn:function(e){return[t._v(" "+t._s(t.formatCurrency(e.item.price))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1 btn btn-success",attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Image ")]),a("b-button",{staticClass:"mr-1 btn btn-warning",attrs:{size:"sm"},on:{click:function(a){return t.info(e.item,e.index)}}},[t._v(" Edit ")]),a("b-button",{staticClass:"btn btn-danger",attrs:{size:"sm"},on:{click:function(a){return t.showDeleteProductConfirmation(e.item.id)}}},[t._v(" Delete ")])]}},{key:"row-details",fn:function(t){return[a("ProductImage",{attrs:{image_url:t.item.image_url}})]}}])})],1)],1),t.addProductForm?a("AddProductForm",{attrs:{CategoryId:t.CategoryId},on:{"close-add-product-form":function(e){t.addProductForm=!1}}}):t._e(),t.editProductForm?a("EditProductForm",{attrs:{productEditData:t.productEditData},on:{"close-edit-product-form":function(e){t.editProductForm=!1}}}):t._e(),a("DeleteProductConfirmation",{attrs:{ProductId:t.ProductId},on:{"close-delete-product-confirmation":function(e){t.deleteProductConfirmation=!1}}})],1)},Et=[],Ft=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"edit-product-modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[t.error?a("div",t._l(t.messages,(function(t,e){return a("ErrorMessage",{key:e,ref:"error",refInFor:!0,attrs:{message:t}})})),1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content",staticStyle:{"background-color":"transparent",border:"none"}},[a("div",{staticClass:"add-edit-product-form-content"},[t._m(0),a("form",{staticClass:"add-edit-product-form"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",id:"add-product-name",name:"name"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Image Url")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image_url,expression:"product.image_url"}],staticClass:"form-control",attrs:{type:"text",id:"add-product-image_url",name:"image_url"},domProps:{value:t.product.image_url},on:{input:function(e){e.target.composing||t.$set(t.product,"image_url",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"number",id:"add-product-price",name:"price"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Stock")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.stock,expression:"product.stock"}],staticClass:"form-control",attrs:{type:"number",id:"add-product-stock",name:"stock"},domProps:{value:t.product.stock},on:{input:function(e){e.target.composing||t.$set(t.product,"stock",e.target.value)}}})]),a("div",[a("label",{attrs:{for:"CategoryId"}},[t._v("Category")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.CategoryId,expression:"product.CategoryId"}],staticClass:"form-control category-select",attrs:{name:"CategoryId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"CategoryId",e.target.multiple?a:a[0])}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]),a("button",{staticClass:"btn mt-4 add-edit-product-btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.editProduct(e)}}},[t._v("Edit")]),a("button",{staticClass:"btn mt-2 add-edit-cancel-btn",attrs:{type:"button"},on:{click:function(e){return t.$emit("close-edit-product-form")}}},[t._v("Close")])])])])])])])}),Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-edit-product-form-title"},[a("h1",[t._v("Product Details")])])}],Mt={name:"ProductDetails",props:["productEditData"],data:function(){return{product:{id:Number(this.productEditData.ProductId),name:this.productEditData.name,CategoryId:Number(this.productEditData.CategoryId),image_url:this.productEditData.image_url,price:this.productEditData.price,stock:this.productEditData.stock},error:!1,messages:[]}},methods:{editProduct:function(){var t=this,e=this.product;this.$store.dispatch("editProduct",e).then((function(e){e.data;t.$store.dispatch("fetchProducts"),t.$emit("close-edit-product-form")})).catch((function(e){console.log(e),e.response.data.message?t.messages.push(e.response.data.message):t.messages=e.response.data.messages,t.error=!0}))}},computed:{categories:function(){return this.$store.state.categories}},mounted:function(){this.error=!1},components:{ErrorMessage:x},created:function(){this.$store.dispatch("fetchCategories")}},At=Mt,jt=Object(i["a"])(At,Ft,Ot,!1,null,null,null),Lt=jt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"add-product-modal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[t.error?a("div",t._l(t.messages,(function(t,e){return a("ErrorMessage",{key:e,ref:"error",refInFor:!0,attrs:{message:t}})})),1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content",staticStyle:{"background-color":"transparent",border:"none"}},[a("div",{staticClass:"add-edit-product-form-content"},[t._m(0),a("form",{staticClass:"add-edit-product-form"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text",id:"add-product-name",name:"name"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Image Url")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image_url,expression:"product.image_url"}],staticClass:"form-control",attrs:{type:"text",id:"add-product-image_url",name:"image_url"},domProps:{value:t.product.image_url},on:{input:function(e){e.target.composing||t.$set(t.product,"image_url",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Price")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"number",id:"add-product-price",name:"price"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Stock")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.stock,expression:"product.stock"}],staticClass:"form-control",attrs:{type:"number",id:"add-product-stock",name:"stock"},domProps:{value:t.product.stock},on:{input:function(e){e.target.composing||t.$set(t.product,"stock",e.target.value)}}})]),a("button",{staticClass:"btn mt-4 add-edit-product-btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addProduct(e)}}},[t._v("Add")]),a("button",{staticClass:"btn mt-2 add-edit-cancel-btn",attrs:{"data-dismiss":"modal",type:"button"},on:{click:function(e){return t.$emit("close-add-product-form")}}},[t._v("Cancel")])])])])])])])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-edit-product-form-title"},[a("h1",[t._v("Add Product")])])}],zt={name:"AddProductForm",props:["CategoryId"],data:function(){return{product:{name:"",CategoryId:this.CategoryId,image_url:"",price:0,stock:0},error:!1,messages:[]}},methods:{addProduct:function(){var t=this,e=this.product;this.$store.dispatch("addProduct",e).then((function(e){e.data;return t.$emit("close-add-product-form"),t.$store.dispatch("fetchProducts")})).catch((function(e){console.log(e),t.messages=e.response.data.messages,t.error=!0})).finally((function(){t.product.name="",t.product.CategoryId=0,t.product.image_url="",t.product.price=0,t.product.stock=0}))}},components:{ErrorMessage:x}},Tt=zt,Ht=Object(i["a"])(Tt,Bt,Nt,!1,null,null,null),Vt=Ht.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"delete-product-confirm","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[t.error?a("div",[a("ErrorMessage",{ref:"error",attrs:{message:t.message}})],1):t._e(),a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Delete Confirmation")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"},on:{click:t.closeDeleteproductConfirmation}},[t._v("×")])])]),t._m(0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeDeleteproductConfirmation}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button",id:"delete-confirm-btn"},on:{click:t.deleteProduct}},[t._v("Delete")])])])])])])},Jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("p",[t._v("Are you sure you want to delete this product?")])])}],Rt={name:"DeleteProductConfirmation",props:["ProductId"],data:function(){return{error:!1,message:""}},methods:{deleteProduct:function(){var t=this;this.$store.dispatch("deleteProduct",this.ProductId).then((function(e){e.data;return t.$emit("close-delete-product-confirmation"),t.$store.dispatch("fetchProducts")})).catch((function(e){console.log(e),t.message=e.response.data.message,t.error=!0,t.$nextTick((function(){t.$refs.error.$el.scrollIntoView()}))}))},closeDeleteproductConfirmation:function(){this.$emit("close-delete-product-confirmation"),this.error=!1}},components:{ErrorMessage:x}},Ut=Rt,Qt=Object(i["a"])(Ut,qt,Jt,!1,null,null,null),Wt=Qt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{domProps:{innerHTML:t._s(t.html)}})])},Kt=[],Xt={name:"ProductImage",props:["image_url"],data:function(){return{html:'<div style="max-height:20rem; overflow-y:auto" class="container"><img height="320" src="'.concat(this.image_url,'"><div>')}}},Yt=Xt,Zt=Object(i["a"])(Yt,Gt,Kt,!1,null,null,null),te=Zt.exports,ee=(a("ac1f"),a("25f0"),a("5319"),function(t){return"$".concat(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}),ae={name:"Products",data:function(){return{fields:["#",{key:"name",label:"Name",sortable:!0,sortDirection:"asc"},{key:"price",label:"Price",sortable:!0,sortDirection:"asc"},{key:"stock",label:"Stock",sortable:!0,sortDirection:"asc"},{key:"createdAt",label:"Created",sortable:!0,sortDirection:"desc"},{key:"updatedAt",label:"Updated",sortable:!0,sortDirection:"desc"},{key:"actions",label:"Actions"}],currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],productEditData:{ProductId:0,name:"",CategoryId:0,image_url:"",price:0,stock:0},ProductId:0,categoryName:this.$route.query.category,CategoryId:Number(this.$route.params.CategoryId),addProductForm:!1,editProductForm:!1,deleteProductConfirmation:!1}},computed:{items:function(){return this.$store.getters.filteredProductsByCategory(this.CategoryId)},totalRows:{get:function(){return this.$store.state.productsLength},set:function(t){this.$store.commit("setProductsLength",t)}},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},methods:{info:function(t,e){this.productEditData.ProductId=t.id,this.productEditData.name=t.name,this.productEditData.CategoryId=t.CategoryId,this.productEditData.image_url=t.image_url,this.productEditData.price=t.price,this.productEditData.stock=t.stock,this.editProductForm=!0},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},showAddProductForm:function(){this.addProductForm=!0},showDeleteProductConfirmation:function(t){this.ProductId=t,this.deleteProductConfirmation=!0},formatCurrency:function(t){return ee(t)}},watch:{editProductForm:function(){var t=this;this.$nextTick().then((function(){t.editProductForm?f()("#edit-product-modal").modal("show"):t.editProductForm||(f()("#edit-product-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))},addProductForm:function(){var t=this;this.$nextTick().then((function(){t.addProductForm?f()("#add-product-modal").modal("show"):t.addProductForm||(f()("#add-product-modal").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))},deleteProductConfirmation:function(){var t=this;this.$nextTick().then((function(){t.deleteProductConfirmation?f()("#delete-product-confirm").modal("show"):t.deleteProductConfirmation||(f()("#delete-product-confirm").modal("hide"),f()("body").removeClass("modal-open"),f()(".modal-backdrop").remove())}))}},created:function(){this.$store.dispatch("fetchCategories"),this.$store.dispatch("fetchProducts")},components:{EditProductForm:Lt,AddProductForm:Vt,DeleteProductConfirmation:Wt,ProductImage:te}},oe=ae,re=Object(i["a"])(oe,It,Et,!1,null,null,null),se=re.exports,ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("Banners")])},ne=[],ce={name:"Banners"},le=ce,de=Object(i["a"])(le,ie,ne,!1,null,null,null),ue=de.exports,me=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},pe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v(" 404"),a("br"),t._v(" Oopss ... Page not found ")])}],fe={},ge=Object(i["a"])(fe,me,pe,!1,null,null,null),be=ge.exports;o["default"].use(d["a"]);var ve=[{path:"/login",name:"Login",component:A,meta:{title:"Shoppal CMS - Login"}},{path:"/",component:Y,children:[{path:"",name:"Home",component:rt,meta:{title:"Shoppal CMS - Home"}},{path:"/categories",name:"Categories",component:Dt,meta:{title:"Shoppal CMS - Categories"}},{path:"/categories/:CategoryId/products",name:"Products",component:se,meta:{title:"Shoppal CMS - Products by Category"}},{path:"/banners",name:"Banners",component:ue,meta:{title:"Shoppal CMS - Banners"}}]},{path:"*",component:be,meta:{title:"404 - Not Found Page"}}],he=new d["a"]({mode:"history",base:"/",routes:ve});he.beforeEach((function(t,e,a){document.title=t.meta.title||"E-Commerce CMS";var o=localStorage.access_token;"Login"===t.name||o?"Login"===t.name&&o?a({name:"Home"}):a():a({name:"Login"})}));var Ce=he,ye=a("5f5b"),_e=(a("4989"),a("ab8b"),a("56d4"),a("2f62")),ke=a("2c8b"),Pe=a.n(ke);o["default"].use(_e["a"]);var xe=new _e["a"].Store({state:{categories:[],products:[],categoriesLength:0,productsLength:0},mutations:{setCategories:function(t,e){t.categories=e},setProducts:function(t,e){t.products=e},setCategoriesLength:function(t,e){t.categoriesLength=e},setProductsLength:function(t,e){t.productsLength=e}},actions:{fetchCategories:function(t){var e=t.commit;return h.post("/categories").then((function(t){var a=t.data,o=[],r={};a.map((function(t){r={id:t.id,name:t.name,createdAt:Pe()(t.createdAt),updatedAt:Pe()(t.updatedAt)},o.push(r)})),e("setCategories",o),e("setCategoriesLength",o.length)})).catch((function(t){console.log(t)}))},fetchProducts:function(t){var e=t.commit;return h.post("/products").then((function(t){var a=t.data,o=[],r={};a.map((function(t){r={id:t.id,name:t.name,CategoryId:t.CategoryId,image_url:t.image_url,price:t.price,stock:t.stock,createdAt:Pe()(t.createdAt),updatedAt:Pe()(t.updatedAt)},o.push(r)})),e("setProducts",o),e("setProductsLength",o.length)})).catch((function(t){console.log(t)}))},addCategory:function(t,e){return h.post("/categories/add",e)},editCategory:function(t,e){return h.put("/categories/".concat(e.CategoryId),e)},deleteCategory:function(t,e){return h.delete("/categories/".concat(e))},addProduct:function(t,e){return h.post("/products/add",e)},editProduct:function(t,e){return h.put("/products/".concat(e.id),e)},deleteProduct:function(t,e){return h.delete("/products/".concat(e))}},getters:{filteredProductsByCategory:function(t){return function(e){return t.products.filter((function(t){return t.CategoryId===e}))}}}});o["default"].use(ye["a"]),o["default"].config.productionTip=!1,new o["default"]({router:Ce,store:xe,render:function(t){return t(l)}}).$mount("#app")},"59b0":function(t,e,a){t.exports=a.p+"img/Node.js.d5e1cd8c.svg"},"5fb7":function(t,e,a){t.exports=a.p+"img/HTML5.16d07e86.svg"},"62a1":function(t,e,a){t.exports=a.p+"img/BootstrapVue.3e31cc3c.png"},"7c69":function(t,e,a){t.exports=a.p+"img/ECommerce-logo.9bf977c2.svg"},"7fad":function(t,e,a){t.exports=a.p+"img/category.7501ab25.svg"},"85ec":function(t,e,a){},"88e3":function(t,e,a){t.exports=a.p+"img/Express.8260c0cc.svg"},"8a41":function(t,e,a){t.exports=a.p+"img/CSS3.a5511840.svg"},"8dee":function(t,e,a){t.exports=a.p+"img/Sequelize.d62f2679.svg"},9856:function(t,e,a){t.exports=a.p+"img/Vue.js.72d93ebd.svg"},d4f2:function(t,e,a){t.exports=a.p+"img/box2.7ddd6aba.svg"},e084:function(t,e,a){t.exports=a.p+"img/JavaScript.0c1f700d.svg"},e11d:function(t,e,a){t.exports=a.p+"img/barcode2.c0a21f5b.svg"},e88b:function(t,e,a){t.exports=a.p+"img/checklist.b0c5819f.svg"}});
//# sourceMappingURL=app.b47e2038.js.map